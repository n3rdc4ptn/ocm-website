<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700;800&display=swap" rel=stylesheet><script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script><link rel=stylesheet href=https://ocm.software/main.149ee2ce1aa8812f5fd465c462d63d3dd0d86e521c8b89175459e9a3bcb07d64d7c53973863451a85170b0214e99eccdadebf87257b931099acda105023a2d8b.css integrity="sha512-FJ7izhqogS9f1GXEYtY9PdDYblIci4kXVFnpo7ywfWTXxTlzhjRRqFFwsCFOmezNrev4cle5MQmazaEFAjotiw==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><style>@import 'https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700;800&display=swap'</style><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Getting Started with OCM | Open Component Model</title><meta name=description content="This chapter walks you through some basic steps to get started with OCM concepts and the OCM CLI.
Prerequisites Create a component version Create a component archive Add a local resource Add an image reference Add an image resource Using a resources file Uploading component versions Bundle composed components All in One Display and Examine component versions List component versions List the resources of a component version Download the resources of a component version Download with download handlers Download an image Download an executable Download a full component version Download OCI Artifacts Transport OCM component versions Sign component versions Signing with certificates Signature Verification Prerequisites # To follow the steps described in this section, you will need:"><link rel=canonical href=https://ocm.software/docs/guides/getting-started-with-ocm/><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="Getting Started with OCM"><meta property="og:description" content="This chapter walks you through some basic steps to get started with OCM concepts and the OCM CLI.
Prerequisites Create a component version Create a component archive Add a local resource Add an image reference Add an image resource Using a resources file Uploading component versions Bundle composed components All in One Display and Examine component versions List component versions List the resources of a component version Download the resources of a component version Download with download handlers Download an image Download an executable Download a full component version Download OCI Artifacts Transport OCM component versions Sign component versions Signing with certificates Signature Verification Prerequisites # To follow the steps described in this section, you will need:"><meta property="og:url" content="https://ocm.software/docs/guides/getting-started-with-ocm/"><meta property="og:site_name" content="Open Component Model"><meta property="article:published_time" content="2023-03-13T09:38:41+01:00"><meta property="article:modified_time" content="2023-03-13T09:38:41+01:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content><meta name=twitter:creator content><meta name=twitter:title content="Getting Started with OCM"><meta name=twitter:description content><meta name=twitter:card content="summary"><meta name=twitter:image:alt content="Getting Started with OCM"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://ocm.software/#/schema/organization/1","name":"OCM","url":"https://ocm.software/","sameAs":["https://github.com/open-component-model"],"logo":{"@type":"ImageObject","@id":"https://ocm.software/#/schema/image/1","url":"https://ocm.software/","width":512,"height":512,"caption":"OCM"},"image":{"@id":"https://ocm.software/#/schema/image/1"}},{"@type":"WebSite","@id":"https://ocm.software/#/schema/website/1","url":"https://ocm.software/","name":"Open Component Model","description":"","publisher":{"@id":"https://ocm.software/#/schema/organization/1"}},{"@type":"WebPage","@id":"https://ocm.software/docs/guides/getting-started-with-ocm/","url":"https://ocm.software/docs/guides/getting-started-with-ocm/","name":"Getting Started with OCM","description":"","isPartOf":{"@id":"https://ocm.software/#/schema/website/1"},"about":{"@id":"https://ocm.software/#/schema/organization/1"},"datePublished":"2023-03-13T09:38:41CET","dateModified":"2023-03-13T09:38:41CET","breadcrumb":{"@id":"https://ocm.software/docs/guides/getting-started-with-ocm/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"https://ocm.software/docs/guides/getting-started-with-ocm/#/schema/image/2"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://ocm.software/docs/guides/getting-started-with-ocm/"]}]},{"@type":"BreadcrumbList","@id":"https://ocm.software/docs/guides/getting-started-with-ocm/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"https://ocm.software","url":"https://ocm.software","name":"Home"}},{"@type":"ListItem","position":3,"item":{"@type":"WebPage","@id":"https://ocm.software/docs/","url":"https://ocm.software/docs/","name":"Docs"}},{"@type":"ListItem","position":4,"item":{"@type":"WebPage","@id":"https://ocm.software/docs/guides/","url":"https://ocm.software/docs/guides/","name":"Guides"}},{"@type":"ListItem","position":5,"item":{"@id":"https://ocm.software/docs/guides/getting-started-with-ocm/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Article","@id":"https://ocm.software/#/schema/article/1","headline":"Getting Started with OCM","description":"","isPartOf":{"@id":"https://ocm.software/docs/guides/getting-started-with-ocm/"},"mainEntityOfPage":{"@id":"https://ocm.software/docs/guides/getting-started-with-ocm/"},"datePublished":"2023-03-13T09:38:41CET","dateModified":"2023-03-13T09:38:41CET","author":{"@id":"https://ocm.software/#/schema/person/2"},"publisher":{"@id":"https://ocm.software/#/schema/organization/1"},"image":{"@id":"https://ocm.software/docs/guides/getting-started-with-ocm/#/schema/image/2"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Person","@id":"https://ocm.software/#/schema/person/2","name":"","sameAs":[]}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"https://ocm.software/docs/guides/getting-started-with-ocm/#/schema/image/2","url":null,"contentUrl":null,"caption":"Getting Started with OCM"}]}]}</script><meta name=theme-color content="#fff"><link rel=icon href=https://ocm.software/favicon.ico sizes=any><link rel=icon type=image/svg+xml href=https://ocm.software/favicon.svg><link rel=apple-touch-icon sizes=180x180 href=https://ocm.software/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://ocm.software/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://ocm.software/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=https://ocm.software/site.webmanifest></head><body class="docs single"><div class=sticky-top><header class="navbar navbar-expand-lg navbar-light doks-navbar"><nav class="container-fluid flex-wrap flex-lg-nowrap" aria-label="Main navigation"><a class="navbar-brand order-0" href=/ aria-label="Open Component Model"><img src=/images/logo-horizontal-white-text.png alt="Open Component Model Logo" class=header-logo></a>
<button class="btn btn-link order-0 ms-auto d-lg-none" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasExample aria-controls=offcanvasExample><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-horizontal"><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></svg></button><div class="offcanvas offcanvas-start d-lg-none" tabindex=-1 id=offcanvasExample aria-labelledby=offcanvasExampleLabel><div class=offcanvas-header><h5 class=offcanvas-title id=offcanvasExampleLabel>Browse docs</h5><button type=button class=btn-close data-bs-dismiss=offcanvas aria-label=Close></button></div><div class=offcanvas-body><aside class="doks-sidebar mt-n3"><nav id=doks-docs-nav aria-label="Tertiary navigation"><h3 class="h6 text-capitalize mt-1 mb-1">Overview</h3><hr class="mt-1 mb-1"><ul class="list-unstyled ms-2 mt-2 mb-0"></ul><a class=docs-link href=https://ocm.software/docs/overview/><h3 class="h6 text-capitalize mt-1 mb-1">Overview</h3></a><hr class="mt-1 mb-1"><ul class="list-unstyled mb-0"><li class=ms-2><a class=docs-link href=https://ocm.software/docs/overview/context/>Context</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/overview/scope/>Scope</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/overview/installation/>Installation</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/overview/contributing/>Contributing</a></li></ul><a class="docs-link active" href=https://ocm.software/docs/guides/><h3 class="h6 text-capitalize mt-1 mb-1">Guides</h3></a><hr class="mt-1 mb-1"><ul class="list-unstyled mb-0"><li class=ms-2><a class="docs-link active" href=https://ocm.software/docs/guides/getting-started-with-ocm/>Getting Started with OCM</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/structuring-software-with-ocm/>Structuring Software with OCM</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/deploying-applications-with-ocm-and-gitops/>Deploying Applications with OCM & GitOps</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/air-gapped-gitops-with-ocm-and-flux/>Air-gapped GitOps with OCM & Flux</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/gitops-driven-configuration-of-ocm-applications/>GitOps Driven Configuration of OCM Applications</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/input_and_access/>Input and Access Types</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/best-practices-with-ocm/>Best Practices</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/complex-component-structure-deployment/>Deployment scenario using an aggregate(d) component</a></li></ul><a class=docs-link href=https://ocm.software/docs/component-descriptors/><h3 class="h6 text-capitalize mt-1 mb-1">Component Descriptors</h3></a><hr class="mt-1 mb-1"><ul class="list-unstyled mb-0"><li class=ms-2><a class=docs-link href=https://ocm.software/docs/component-descriptors/version-3/>Version 3</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/component-descriptors/version-2/>Version 2 (legacy)</a></li></ul><a class=docs-link href=https://ocm.software/docs/cli/><h3 class="h6 text-capitalize mt-1 mb-1">Command Line Client</h3></a><hr class="mt-1 mb-1"><ul class="list-unstyled mb-0"><li><a class=docs-link href=https://ocm.software/docs/cli/add/><h4 class="h6 text-muted ms-1 mt-2 mb-1">add</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/add/componentversions/>componentversions</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/add/references/>references</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/add/resource-configuration/>resource-configuration</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/add/resources/>resources</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/add/source-configuration/>source-configuration</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/add/sources/>sources</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/clean/><h4 class="h6 text-muted ms-1 mt-2 mb-1">clean</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/clean/cache/>cache</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/create/><h4 class="h6 text-muted ms-1 mt-2 mb-1">create</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/create/componentarchive/>componentarchive</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/create/rsakeypair/>rsakeypair</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/create/transportarchive/>transportarchive</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/describe/><h4 class="h6 text-muted ms-1 mt-2 mb-1">describe</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/describe/artifacts/>artifacts</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/describe/plugins/>plugins</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/download/><h4 class="h6 text-muted ms-1 mt-2 mb-1">download</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/download/artifacts/>artifacts</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/download/componentversions/>componentversions</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/download/resources/>resources</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/get/><h4 class="h6 text-muted ms-1 mt-2 mb-1">get</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/get/artifacts/>artifacts</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/get/componentversions/>componentversions</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/get/credentials/>credentials</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/get/plugins/>plugins</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/get/references/>references</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/get/resources/>resources</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/get/sources/>sources</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/show/><h4 class="h6 text-muted ms-1 mt-2 mb-1">show</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/show/tags/>tags</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/show/versions/>versions</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/sign/><h4 class="h6 text-muted ms-1 mt-2 mb-1">sign</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/sign/componentversions/>componentversions</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/transfer/><h4 class="h6 text-muted ms-1 mt-2 mb-1">transfer</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/transfer/artifacts/>artifacts</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/transfer/commontransportarchive/>commontransportarchive</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/transfer/componentarchive/>componentarchive</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/transfer/componentversions/>componentversions</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/verify/><h4 class="h6 text-muted ms-1 mt-2 mb-1">verify</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/verify/componentversions/>componentversions</a></li></ul></ul><a class=docs-link href=https://ocm.software/docs/controller-reference/><h3 class="h6 text-capitalize mt-1 mb-1">Kubernetes Controllers</h3></a><hr class="mt-1 mb-1"><ul class="list-unstyled mb-0"><li class=ms-2><a class=docs-link href=https://ocm.software/docs/controller-reference/installation/>Installation</a></li><li><a class=docs-link href=https://ocm.software/docs/controller-reference/ocm-controller/><h4 class="h6 text-muted ms-1 mt-2 mb-1">OCM Controller</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/controller-reference/ocm-controller/component-version/>Component Version</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/controller-reference/replication-controller/><h4 class="h6 text-muted ms-1 mt-2 mb-1">Replication Controller</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/controller-reference/replication-controller/component-subscription/>Component Subscription</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/controller-reference/api-reference/><h4 class="h6 text-muted ms-1 mt-2 mb-1">API Reference</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/controller-reference/api-reference/ocm-controller/>OCM Controller API v1</a></li><li><a class=docs-link href=https://ocm.software/docs/controller-reference/api-reference/replication-controller/>Replication Controller API v1</a></li></ul></ul></nav></aside></div></div><button class="btn btn-menu order-2 d-block d-lg-none" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasDoks aria-controls=offcanvasDoks aria-label="Open main menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button><div class="offcanvas offcanvas-end border-0" tabindex=-1 id=offcanvasDoks data-bs-backdrop=true aria-labelledby=offcanvasDoksLabel><div class="offcanvas-header d-lg-none"><h2 class="h5 offcanvas-title ps-2" id=offcanvasDoksLabel><a href=/>Open Component Model</a></h2><button type=button class="btn-close text-reset me-2" data-bs-dismiss=offcanvas aria-label="Close main menu"></button></div><div class="offcanvas-body p-4 p-lg-0 align-self-end"><ul class="nav flex-column flex-lg-row align-items-lg-center mt-2 mt-lg-0 ms-lg-2"><li class=nav-item><a class="nav-link ps-0 py-1 active" href=/docs/overview/context>Docs</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=/spec/>Spec</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=/project/about>Project</a></li></ul><ul class="nav flex-column flex-lg-row"><li class=nav-item><a class="nav-link social-link" href=https://github.com/open-component-model><svg width="36" height="36" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59C5.87 15.66 6.02 15.42 6.02 15.21 6.02 15.02 6.01 14.39 6.01 13.72 4 14.09 3.48 13.23 3.32 12.78 3.23 12.55 2.84 11.84 2.5 11.65 2.22 11.5 1.82 11.13 2.49 11.12 3.12 11.11 3.57 11.7 3.72 11.94 4.44 13.15 5.59 12.81 6.05 12.6 6.12 12.08 6.33 11.73 6.56 11.53 4.78 11.33 2.92 10.64 2.92 7.58c0-.87.31-1.59.82-2.15C3.66 5.23 3.38 4.41 3.82 3.31c0 0 .67-.21 2.2.82C6.66 3.95 7.34 3.86 8.02 3.86S9.38 3.95 10.02 4.13c1.53-1.04 2.2-.82 2.2-.82C12.66 4.41 12.38 5.23 12.3 5.43 12.81 5.99 13.12 6.7 13.12 7.58c0 3.07-1.87 3.75-3.65 3.95C9.76 11.78 10.01 12.26 10.01 13.01 10.01 14.08 10 14.94 10 15.21 10 15.42 10.15 15.67 10.55 15.59 13.71 14.53 16 11.53 16 8c0-4.42-3.58-8-8-8z" fill="#f3f3f3"/></svg><small class="ms-2 d-lg-none">GitHub</small></a></li></ul></div></div></nav></header></div><div class=container-fluid><aside class=doks-sidebar><nav id=doks-docs-nav class="collapse d-lg-none" aria-label="Tertiary navigation"><h3 class="h6 text-capitalize mt-1 mb-1">Overview</h3><hr class="mt-1 mb-1"><ul class="list-unstyled ms-2 mt-2 mb-0"></ul><a class=docs-link href=https://ocm.software/docs/overview/><h3 class="h6 text-capitalize mt-1 mb-1">Overview</h3></a><hr class="mt-1 mb-1"><ul class="list-unstyled mb-0"><li class=ms-2><a class=docs-link href=https://ocm.software/docs/overview/context/>Context</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/overview/scope/>Scope</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/overview/installation/>Installation</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/overview/contributing/>Contributing</a></li></ul><a class="docs-link active" href=https://ocm.software/docs/guides/><h3 class="h6 text-capitalize mt-1 mb-1">Guides</h3></a><hr class="mt-1 mb-1"><ul class="list-unstyled mb-0"><li class=ms-2><a class="docs-link active" href=https://ocm.software/docs/guides/getting-started-with-ocm/>Getting Started with OCM</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/structuring-software-with-ocm/>Structuring Software with OCM</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/deploying-applications-with-ocm-and-gitops/>Deploying Applications with OCM & GitOps</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/air-gapped-gitops-with-ocm-and-flux/>Air-gapped GitOps with OCM & Flux</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/gitops-driven-configuration-of-ocm-applications/>GitOps Driven Configuration of OCM Applications</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/input_and_access/>Input and Access Types</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/best-practices-with-ocm/>Best Practices</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/complex-component-structure-deployment/>Deployment scenario using an aggregate(d) component</a></li></ul><a class=docs-link href=https://ocm.software/docs/component-descriptors/><h3 class="h6 text-capitalize mt-1 mb-1">Component Descriptors</h3></a><hr class="mt-1 mb-1"><ul class="list-unstyled mb-0"><li class=ms-2><a class=docs-link href=https://ocm.software/docs/component-descriptors/version-3/>Version 3</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/component-descriptors/version-2/>Version 2 (legacy)</a></li></ul><a class=docs-link href=https://ocm.software/docs/cli/><h3 class="h6 text-capitalize mt-1 mb-1">Command Line Client</h3></a><hr class="mt-1 mb-1"><ul class="list-unstyled mb-0"><li><a class=docs-link href=https://ocm.software/docs/cli/add/><h4 class="h6 text-muted ms-1 mt-2 mb-1">add</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/add/componentversions/>componentversions</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/add/references/>references</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/add/resource-configuration/>resource-configuration</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/add/resources/>resources</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/add/source-configuration/>source-configuration</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/add/sources/>sources</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/clean/><h4 class="h6 text-muted ms-1 mt-2 mb-1">clean</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/clean/cache/>cache</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/create/><h4 class="h6 text-muted ms-1 mt-2 mb-1">create</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/create/componentarchive/>componentarchive</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/create/rsakeypair/>rsakeypair</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/create/transportarchive/>transportarchive</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/describe/><h4 class="h6 text-muted ms-1 mt-2 mb-1">describe</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/describe/artifacts/>artifacts</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/describe/plugins/>plugins</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/download/><h4 class="h6 text-muted ms-1 mt-2 mb-1">download</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/download/artifacts/>artifacts</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/download/componentversions/>componentversions</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/download/resources/>resources</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/get/><h4 class="h6 text-muted ms-1 mt-2 mb-1">get</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/get/artifacts/>artifacts</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/get/componentversions/>componentversions</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/get/credentials/>credentials</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/get/plugins/>plugins</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/get/references/>references</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/get/resources/>resources</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/get/sources/>sources</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/show/><h4 class="h6 text-muted ms-1 mt-2 mb-1">show</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/show/tags/>tags</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/show/versions/>versions</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/sign/><h4 class="h6 text-muted ms-1 mt-2 mb-1">sign</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/sign/componentversions/>componentversions</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/transfer/><h4 class="h6 text-muted ms-1 mt-2 mb-1">transfer</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/transfer/artifacts/>artifacts</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/transfer/commontransportarchive/>commontransportarchive</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/transfer/componentarchive/>componentarchive</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/transfer/componentversions/>componentversions</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/verify/><h4 class="h6 text-muted ms-1 mt-2 mb-1">verify</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/verify/componentversions/>componentversions</a></li></ul></ul><a class=docs-link href=https://ocm.software/docs/controller-reference/><h3 class="h6 text-capitalize mt-1 mb-1">Kubernetes Controllers</h3></a><hr class="mt-1 mb-1"><ul class="list-unstyled mb-0"><li class=ms-2><a class=docs-link href=https://ocm.software/docs/controller-reference/installation/>Installation</a></li><li><a class=docs-link href=https://ocm.software/docs/controller-reference/ocm-controller/><h4 class="h6 text-muted ms-1 mt-2 mb-1">OCM Controller</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/controller-reference/ocm-controller/component-version/>Component Version</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/controller-reference/replication-controller/><h4 class="h6 text-muted ms-1 mt-2 mb-1">Replication Controller</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/controller-reference/replication-controller/component-subscription/>Component Subscription</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/controller-reference/api-reference/><h4 class="h6 text-muted ms-1 mt-2 mb-1">API Reference</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/controller-reference/api-reference/ocm-controller/>OCM Controller API v1</a></li><li><a class=docs-link href=https://ocm.software/docs/controller-reference/api-reference/replication-controller/>Replication Controller API v1</a></li></ul></ul></nav></aside></div><div class="wrap container-fluid" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar d-none d-lg-block"><nav id=docs-sidebar class=docs-links aria-label="Main navigation"><ul class="list-unstyled collapsible-sidebar mt-0 mb-0"><ul class="list-unstyled ms-0 mt-5 mb-0"></ul><li class="mb-0 mt-0"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-3b878279a04dc47d60932cb294d96259 aria-expanded=false><h3 class="h6 text-capitalize pt-2 mt-0 mb-0">Overview</h3></button><div class=collapse id=section-3b878279a04dc47d60932cb294d96259><hr class="mt-1 mb-1"><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/overview/context/>Context</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/overview/scope/>Scope</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/overview/installation/>Installation</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/overview/contributing/>Contributing</a></li></ul></div></li><li class="mb-0 mt-0"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-45389ee90014e0938cb09409b9a8794d aria-expanded=true><h3 class="h6 text-capitalize pt-2 mt-0 mb-0">Guides</h3></button><div class="collapse show" id=section-45389ee90014e0938cb09409b9a8794d><hr class="mt-1 mb-1"><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded active" href=https://ocm.software/docs/guides/getting-started-with-ocm/>Getting Started with OCM</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/guides/structuring-software-with-ocm/>Structuring Software with OCM</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/guides/deploying-applications-with-ocm-and-gitops/>Deploying Applications with OCM & GitOps</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/guides/air-gapped-gitops-with-ocm-and-flux/>Air-gapped GitOps with OCM & Flux</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/guides/gitops-driven-configuration-of-ocm-applications/>GitOps Driven Configuration of OCM Applications</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/guides/input_and_access/>Input and Access Types</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/guides/best-practices-with-ocm/>Best Practices</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/guides/complex-component-structure-deployment/>Deployment scenario using an aggregate(d) component</a></li></ul></div></li><li class="mb-0 mt-0"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-586e8b59e93b90a392c4668ce7563d70 aria-expanded=false><h3 class="h6 text-capitalize pt-2 mt-0 mb-0">Component Descriptors</h3></button><div class=collapse id=section-586e8b59e93b90a392c4668ce7563d70><hr class="mt-1 mb-1"><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/component-descriptors/version-3/>Version 3</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/component-descriptors/version-2/>Version 2 (legacy)</a></li></ul></div></li><li class="mb-0 mt-0"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-4020ef13fa7b3dc5342ce3986c5a718f aria-expanded=false><h3 class="h6 text-capitalize pt-2 mt-0 mb-0">cli-reference</h3></button><div class=collapse id=section-4020ef13fa7b3dc5342ce3986c5a718f><hr class="mt-1 mb-1"><ul class="btn-toggle-nav list-unstyled mb-0"><li class=ms-0><button class="btn btn-toggle nav-link align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-34ec78fcc91ffb1e54cd85e4a0924332 aria-expanded=false>
<i class="bi bi-caret-right-fill text-white"></i><h6 class="h6 text-capitalize text-muted mt-1 mb-1">add</h5></button><div class=collapse id=section-34ec78fcc91ffb1e54cd85e4a0924332><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/add/componentversions/>componentversions</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/add/references/>references</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/add/resource-configuration/>resource-configuration</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/add/resources/>resources</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/add/source-configuration/>source-configuration</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/add/sources/>sources</a></li></ul></div></li><li class=ms-0><button class="btn btn-toggle nav-link align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-123402c04dcfb6625f688f771a5fc05d aria-expanded=false>
<i class="bi bi-caret-right-fill text-white"></i><h6 class="h6 text-capitalize text-muted mt-1 mb-1">clean</h5></button><div class=collapse id=section-123402c04dcfb6625f688f771a5fc05d><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/clean/cache/>cache</a></li></ul></div></li><li class=ms-0><button class="btn btn-toggle nav-link align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-76ea0bebb3c22822b4f0dd9c9fd021c5 aria-expanded=false>
<i class="bi bi-caret-right-fill text-white"></i><h6 class="h6 text-capitalize text-muted mt-1 mb-1">create</h5></button><div class=collapse id=section-76ea0bebb3c22822b4f0dd9c9fd021c5><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/create/componentarchive/>componentarchive</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/create/rsakeypair/>rsakeypair</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/create/transportarchive/>transportarchive</a></li></ul></div></li><li class=ms-0><button class="btn btn-toggle nav-link align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-0d16430e9f0aa8879ba9dac2540543fc aria-expanded=false>
<i class="bi bi-caret-right-fill text-white"></i><h6 class="h6 text-capitalize text-muted mt-1 mb-1">describe</h5></button><div class=collapse id=section-0d16430e9f0aa8879ba9dac2540543fc><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/describe/artifacts/>artifacts</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/describe/plugins/>plugins</a></li></ul></div></li><li class=ms-0><button class="btn btn-toggle nav-link align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-fd456406745d816a45cae554c788e754 aria-expanded=false>
<i class="bi bi-caret-right-fill text-white"></i><h6 class="h6 text-capitalize text-muted mt-1 mb-1">download</h5></button><div class=collapse id=section-fd456406745d816a45cae554c788e754><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/download/artifacts/>artifacts</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/download/componentversions/>componentversions</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/download/resources/>resources</a></li></ul></div></li><li class=ms-0><button class="btn btn-toggle nav-link align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-b5eda0a74558a342cf659187f06f746f aria-expanded=false>
<i class="bi bi-caret-right-fill text-white"></i><h6 class="h6 text-capitalize text-muted mt-1 mb-1">get</h5></button><div class=collapse id=section-b5eda0a74558a342cf659187f06f746f><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/get/artifacts/>artifacts</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/get/componentversions/>componentversions</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/get/credentials/>credentials</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/get/plugins/>plugins</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/get/references/>references</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/get/resources/>resources</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/get/sources/>sources</a></li></ul></div></li><li class=ms-0><button class="btn btn-toggle nav-link align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-a7dd12b1dab17d25467b0b0a4c8d4a92 aria-expanded=false>
<i class="bi bi-caret-right-fill text-white"></i><h6 class="h6 text-capitalize text-muted mt-1 mb-1">show</h5></button><div class=collapse id=section-a7dd12b1dab17d25467b0b0a4c8d4a92><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/show/tags/>tags</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/show/versions/>versions</a></li></ul></div></li><li class=ms-0><button class="btn btn-toggle nav-link align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-04b29480233f4def5c875875b6bdc3b1 aria-expanded=false>
<i class="bi bi-caret-right-fill text-white"></i><h6 class="h6 text-capitalize text-muted mt-1 mb-1">sign</h5></button><div class=collapse id=section-04b29480233f4def5c875875b6bdc3b1><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/sign/componentversions/>componentversions</a></li></ul></div></li><li class=ms-0><button class="btn btn-toggle nav-link align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-84a0f3455dcca894ace136be62efa292 aria-expanded=false>
<i class="bi bi-caret-right-fill text-white"></i><h6 class="h6 text-capitalize text-muted mt-1 mb-1">transfer</h5></button><div class=collapse id=section-84a0f3455dcca894ace136be62efa292><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/transfer/artifacts/>artifacts</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/transfer/commontransportarchive/>commontransportarchive</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/transfer/componentarchive/>componentarchive</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/transfer/componentversions/>componentversions</a></li></ul></div></li><li class=ms-0><button class="btn btn-toggle nav-link align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-e8418d1d706cd73548f9f16f1d55ad6e aria-expanded=false>
<i class="bi bi-caret-right-fill text-white"></i><h6 class="h6 text-capitalize text-muted mt-1 mb-1">verify</h5></button><div class=collapse id=section-e8418d1d706cd73548f9f16f1d55ad6e><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/verify/componentversions/>componentversions</a></li></ul></div></li></ul></div></li><li class="mb-0 mt-0"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-8953fee62c09283faf60084f6db3826e aria-expanded=false><h3 class="h6 text-capitalize pt-2 mt-0 mb-0">Kubernetes Controllers</h3></button><div class=collapse id=section-8953fee62c09283faf60084f6db3826e><hr class="mt-1 mb-1"><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/controller-reference/installation/>Installation</a></li><li class=ms-0><button class="btn btn-toggle nav-link align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-77c54d2a9106c22e3bc203d8b35bd627 aria-expanded=false>
<i class="bi bi-caret-right-fill text-white"></i><h6 class="h6 text-capitalize text-muted mt-1 mb-1">OCM Controller</h5></button><div class=collapse id=section-77c54d2a9106c22e3bc203d8b35bd627><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/controller-reference/ocm-controller/component-version/>Component Version</a></li></ul></div></li><li class=ms-0><button class="btn btn-toggle nav-link align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-be2844c305a730ff0fbae91208e810c3 aria-expanded=false>
<i class="bi bi-caret-right-fill text-white"></i><h6 class="h6 text-capitalize text-muted mt-1 mb-1">Replication Controller</h5></button><div class=collapse id=section-be2844c305a730ff0fbae91208e810c3><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/controller-reference/replication-controller/component-subscription/>Component Subscription</a></li></ul></div></li><li class=ms-0><button class="btn btn-toggle nav-link align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-05b017e42952fddf972dcdfddede5740 aria-expanded=false>
<i class="bi bi-caret-right-fill text-white"></i><h6 class="h6 text-capitalize text-muted mt-1 mb-1">API Reference</h5></button><div class=collapse id=section-05b017e42952fddf972dcdfddede5740><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/controller-reference/api-reference/ocm-controller/>OCM Controller API v1</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/controller-reference/api-reference/replication-controller/>Replication Controller API v1</a></li></ul></div></li></ul></div></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=d-xl-none><button class="btn btn-outline-primary btn-sm doks-toc-toggle collapsed" type=button data-bs-toggle=collapse data-bs-target=#onThisPage aria-controls=doks-docs-nav aria-expanded=false aria-label="Toggle On this page navigation">
<span>On this page</span>
<span><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"/><polyline points="7 6 12 11 17 6"/></svg><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"/><polyline points="17 18 12 13 7 18"/></svg></span></button><div class=collapse id=onThisPage><div class="card card-body mt-3 py-1"><div class=page-links><nav id=TableOfContents><ul><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#create-a-component-version>Create a component version</a><ul><li><a href=#create-a-component-archive>Create a component archive</a></li><li><a href=#add-a-local-resource>Add a local resource</a></li><li><a href=#add-an-image-reference>Add an image reference</a></li><li><a href=#add-an-image-resource>Add an image resource</a></li><li><a href=#using-a-resources-file>Using a resources file</a></li><li><a href=#uploading-component-versions>Uploading component versions</a></li><li><a href=#bundle-composed-components>Bundle composed components</a></li><li><a href=#all-in-one>All in One</a></li></ul></li><li><a href=#display-and-examine-component-versions>Display and Examine component versions</a><ul><li><a href=#list-component-versions>List component versions</a></li><li><a href=#list-the-resources-of-a-component-version>List the resources of a component version</a></li><li><a href=#download-the-resources-of-a-component-version>Download the resources of a component version</a></li><li><a href=#download-oci-artifacts>Download OCI Artifacts</a></li></ul></li><li><a href=#transport-ocm-component-versions>Transport OCM component versions</a></li><li><a href=#sign-component-versions>Sign component versions</a><ul><li><a href=#signing-with-certificates>Signing with certificates</a></li><li><a href=#signature-verification>Signature Verification</a></li></ul></li></ul></nav></div></div></div></div><div class="page-links d-none d-xl-block"><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#create-a-component-version>Create a component version</a><ul><li><a href=#create-a-component-archive>Create a component archive</a></li><li><a href=#add-a-local-resource>Add a local resource</a></li><li><a href=#add-an-image-reference>Add an image reference</a></li><li><a href=#add-an-image-resource>Add an image resource</a></li><li><a href=#using-a-resources-file>Using a resources file</a></li><li><a href=#uploading-component-versions>Uploading component versions</a></li><li><a href=#bundle-composed-components>Bundle composed components</a></li><li><a href=#all-in-one>All in One</a></li></ul></li><li><a href=#display-and-examine-component-versions>Display and Examine component versions</a><ul><li><a href=#list-component-versions>List component versions</a></li><li><a href=#list-the-resources-of-a-component-version>List the resources of a component version</a></li><li><a href=#download-the-resources-of-a-component-version>Download the resources of a component version</a></li><li><a href=#download-oci-artifacts>Download OCI Artifacts</a></li></ul></li><li><a href=#transport-ocm-component-versions>Transport OCM component versions</a></li><li><a href=#sign-component-versions>Sign component versions</a><ul><li><a href=#signing-with-certificates>Signing with certificates</a></li><li><a href=#signature-verification>Signature Verification</a></li></ul></li></ul></nav></div></nav><main class="docs-content container-xxl col-lg-11 col-xl-9"><h1>Getting Started with OCM</span></h1><p class=lead></p><nav class=d-xl-none aria-label="Quaternary navigation"><div class=d-xl-none><button class="btn btn-outline-primary btn-sm doks-toc-toggle collapsed" type=button data-bs-toggle=collapse data-bs-target=#onThisPage aria-controls=doks-docs-nav aria-expanded=false aria-label="Toggle On this page navigation">
<span>On this page</span>
<span><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"/><polyline points="7 6 12 11 17 6"/></svg><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"/><polyline points="17 18 12 13 7 18"/></svg></span></button><div class=collapse id=onThisPage><div class="card card-body mt-3 py-1"><div class=page-links><nav id=TableOfContents><ul><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#create-a-component-version>Create a component version</a><ul><li><a href=#create-a-component-archive>Create a component archive</a></li><li><a href=#add-a-local-resource>Add a local resource</a></li><li><a href=#add-an-image-reference>Add an image reference</a></li><li><a href=#add-an-image-resource>Add an image resource</a></li><li><a href=#using-a-resources-file>Using a resources file</a></li><li><a href=#uploading-component-versions>Uploading component versions</a></li><li><a href=#bundle-composed-components>Bundle composed components</a></li><li><a href=#all-in-one>All in One</a></li></ul></li><li><a href=#display-and-examine-component-versions>Display and Examine component versions</a><ul><li><a href=#list-component-versions>List component versions</a></li><li><a href=#list-the-resources-of-a-component-version>List the resources of a component version</a></li><li><a href=#download-the-resources-of-a-component-version>Download the resources of a component version</a></li><li><a href=#download-oci-artifacts>Download OCI Artifacts</a></li></ul></li><li><a href=#transport-ocm-component-versions>Transport OCM component versions</a></li><li><a href=#sign-component-versions>Sign component versions</a><ul><li><a href=#signing-with-certificates>Signing with certificates</a></li><li><a href=#signature-verification>Signature Verification</a></li></ul></li></ul></nav></div></div></div></div><div class="page-links d-none d-xl-block"><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#create-a-component-version>Create a component version</a><ul><li><a href=#create-a-component-archive>Create a component archive</a></li><li><a href=#add-a-local-resource>Add a local resource</a></li><li><a href=#add-an-image-reference>Add an image reference</a></li><li><a href=#add-an-image-resource>Add an image resource</a></li><li><a href=#using-a-resources-file>Using a resources file</a></li><li><a href=#uploading-component-versions>Uploading component versions</a></li><li><a href=#bundle-composed-components>Bundle composed components</a></li><li><a href=#all-in-one>All in One</a></li></ul></li><li><a href=#display-and-examine-component-versions>Display and Examine component versions</a><ul><li><a href=#list-component-versions>List component versions</a></li><li><a href=#list-the-resources-of-a-component-version>List the resources of a component version</a></li><li><a href=#download-the-resources-of-a-component-version>Download the resources of a component version</a></li><li><a href=#download-oci-artifacts>Download OCI Artifacts</a></li></ul></li><li><a href=#transport-ocm-component-versions>Transport OCM component versions</a></li><li><a href=#sign-component-versions>Sign component versions</a><ul><li><a href=#signing-with-certificates>Signing with certificates</a></li><li><a href=#signature-verification>Signature Verification</a></li></ul></li></ul></nav></div></nav><p>This chapter walks you through some basic steps to get started with OCM concepts and the OCM CLI.</p><ul><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#create-a-component-version>Create a component version</a><ul><li><a href=#create-a-component-archive>Create a component archive</a></li><li><a href=#add-a-local-resource>Add a local resource</a></li><li><a href=#add-an-image-reference>Add an image reference</a></li><li><a href=#add-an-image-resource>Add an image resource</a></li><li><a href=#using-a-resources-file>Using a resources file</a></li><li><a href=#uploading-component-versions>Uploading component versions</a></li><li><a href=#bundle-composed-components>Bundle composed components</a></li><li><a href=#all-in-one>All in One</a></li></ul></li><li><a href=#display-and-examine-component-versions>Display and Examine component versions</a><ul><li><a href=#list-component-versions>List component versions</a></li><li><a href=#list-the-resources-of-a-component-version>List the resources of a component version</a></li><li><a href=#download-the-resources-of-a-component-version>Download the resources of a component version</a><ul><li><a href=#download-with-download-handlers>Download with download handlers</a></li><li><a href=#download-an-image>Download an image</a></li><li><a href=#download-an-executable>Download an executable</a></li><li><a href=#download-a-full-component-version>Download a full component version</a></li></ul></li><li><a href=#download-oci-artifacts>Download OCI Artifacts</a></li></ul></li><li><a href=#transport-ocm-component-versions>Transport OCM component versions</a></li><li><a href=#sign-component-versions>Sign component versions</a><ul><li><a href=#signing-with-certificates>Signing with certificates</a></li><li><a href=#signature-verification>Signature Verification</a></li></ul></li></ul><h2 id=prerequisites>Prerequisites <a href=#prerequisites class=anchor aria-hidden=true>#</a></h2><p>To follow the steps described in this section, you will need:</p><ul><li><p>The OCM Command Line Interface (CLI) to interact with component versions and registries. Download it from the <a href=https://github.com/open-component-model/ocm/releases>releases</a> or with the following command:</p><pre><code class=language-shell>#generic: use a bash installer
curl -s https://ocm.software/install.sh | sudo bash

#macos: use homebrew
brew install open-component-model/tap/ocm
</code></pre></li><li><p>Access to an OCM repository. This can be any OCI registry for which you have write permission (e.g. GitHub Packages). An OCM repository based on an OCI registry is identified by a leading OCI repository prefix. For example: <code>ghcr.io/&lt;YOUR-ORG>/ocm</code>.</p></li><li><p>Credentials for the CLI to access the OCM repository. The easiest way to do this is to reuse the Docker configuration.</p><p>To do this, create a file named <a href=.ocmconfig><code>.ocmconfig</code></a> in your home directory with the following:</p><pre><code class=language-yaml>type: generic.config.ocm.software/v1
configurations:
- type: credentials.config.ocm.software
  repositories:
    - repository:
        type: DockerConfig/v1
        dockerConfigFile: &quot;~/.docker/config.json&quot;
        propagateConsumerIdentity: true
- type: attributes.config.ocm.software
  attributes:
    cache: ~/.ocm/cache
</code></pre></li></ul><h2 id=create-a-component-version>Create a component version <a href=#create-a-component-version class=anchor aria-hidden=true>#</a></h2><p>The first step when creating a new component version is to create a component archive. A component archive contains references, resources and sources. The <code>ocm</code> CLI tool can help with this.</p><p>For convenience, we define the following environment variables:</p><pre><code class=language-bash>PROVIDER=&quot;acme.org&quot;
ORG=&quot;acme&quot;
COMPONENT=&quot;github.com/${ORG}/helloworld&quot;
VERSION=&quot;1.0.0&quot;
CA_ARCHIVE=&quot;ca-hello-world&quot;
OCM_REPO=&quot;ghcr.io/&lt;github-org&gt;/ocm&quot;
</code></pre><p>If you specify values for your setup, you can directly use the commands shown in the next steps.
The variable <code>OCM_REPO</code> is set to a location of an OCI registry where artifacts and component
descriptors are stored (omitting the <code>https://</code> prefix). For example
<a href=https://github.com/features/packages>GitHub Packages</a> can be used as an OCI registry. Many other
options exist.</p><p>Let&rsquo;s asssume that we create a component based on a GitHub source repository.</p><h3 id=create-a-component-archive>Create a component archive <a href=#create-a-component-archive class=anchor aria-hidden=true>#</a></h3><p>First we create an empty component archive using the command <a href=https://github.com/open-component-model/ocm/blob/main/docs/reference/ocm_create_componentarchive.md><code>ocm create componentarchive</code></a>:</p><pre><code class=language-shell>ocm create componentarchive ${COMPONENT} ${VERSION}  --provider ${PROVIDER} --file $CA_ARCHIVE
</code></pre><details><summary>What happened?</summary><p>This command creates the following file structure:</p><pre><code class=language-bash>$ tree ca-hello-world
ca-hello-world
 blobs
 component-descriptor.yaml
</code></pre><p>The <a href=../../specification/elements/README.md#component-descriptor>component descriptor</a>
is stored as a yaml file named <code>component-descriptor.yaml</code>. It describes the content of a component version.</p><p>It contains the following configuration:</p><pre><code class=language-yaml>meta:
  schemaVersion: v2
component:
  name: github.com/acme/helloworld
  version: 1.0.0
  provider: acme.org
  resources: []
  sources: []
  componentReferences: []
</code></pre><p>By default, the command creates a directory structure. The option <code>--type</code> can be used to select other target formats, such as <code>tar</code> or <code>tgz</code>.</p></details><h3 id=add-a-local-resource>Add a local resource <a href=#add-a-local-resource class=anchor aria-hidden=true>#</a></h3><p>The next step is <a href=https://github.com/open-component-model/ocm/blob/main/docs/reference/ocm_add_resources.md><code>ocm add resources</code></a>. First, we want to add a Helm Chart stored in a local folder named <code>helmchart</code>.</p><pre><code class=language-shell>ocm add resource $CA_ARCHIVE --type helmChart --name mychart --version ${VERSION} --inputType helm --inputPath ./helmchart
</code></pre><pre><code class=language-shell>processing resource (by options)...
  processing document 1...
    processing index 1
found 1 resources
adding resource helmChart: &quot;name&quot;=&quot;mychart&quot;,&quot;version&quot;=&quot;1.0.0&quot;...
</code></pre><details><summary>What happened?</summary><p>The generated file structure is:</p><pre><code class=language-shell>tree ca-hello-world
</code></pre><pre><code class=language-shell>ca-hello-world
 blobs
  sha256.60bfd05083f81f2841657e24410d3ba25e4bcc3e3c927da7e1811e775116a74d
 component-descriptor.yaml
</code></pre><p>The added blob contains the packaged Helm Chart. The blob is referenced in the component descriptor
in <code>component.resources.access.localreference</code>:</p><pre><code class=language-yaml>meta:
  schemaVersion: v2
component:
  name: github.com/acme/helloworld
  version: 1.0.0
  provider: acme.org
  resources:
  - access:
      localReference: sha256.60bfd05083f81f2841657e24410d3ba25e4bcc3e3c927da7e1811e775116a74d
      mediaType: application/vnd.oci.image.manifest.v1+tar+gzip
      referenceName: github.com/acme/helloworld/echoserver:0.1.0
      type: localBlob
    name: mychart
    relation: local
    type: helmChart
    version: 1.0.0
  sources: []
  componentReferences: []
</code></pre><p>Because we use content from the local environment, it is directly packaged into the component archive
using the <a href=https://github.com/open-component-model/ocm-spec/blob/main/doc/specification/elements/README.md#artifact-access>access method</a> of type
<a href=https://github.com/open-component-model/ocm-spec/blob/main/doc/appendix/B/localBlob.md><code>local</code></a>.</p></details><h3 id=add-an-image-reference>Add an image reference <a href=#add-an-image-reference class=anchor aria-hidden=true>#</a></h3><p>Next, we will add an image. The image is already stored in an image registry (e.g. by a previous Docker build/push).</p><pre><code class=language-shell>ocm add resource $CA_ARCHIVE --type ociImage --name image --version ${VERSION} --accessType ociArtifact --reference gcr.io/google_containers/echoserver:1.10
</code></pre><pre><code class=language-shell>processing resource (by options)...
  processing document 1...
    processing index 1
found 1 resources
adding resource ociImage: &quot;name&quot;=&quot;image&quot;,&quot;version&quot;=&quot;1.0.0&quot;...
</code></pre><details><summary>What happened?</summary>
The component descriptor now has the following content, with an additional `access` under
`component.resources`, where `access` is of type `external`:<pre><code class=language-yaml>meta:
  schemaVersion: v2
component:
  name: github.com/acme/helloworld
  version: 1.0.0
  provider: acme.org
  resources:
  - access:
      localReference: sha256.60bfd05083f81f2841657e24410d3ba25e4bcc3e3c927da7e1811e775116a74d
      mediaType: application/vnd.oci.image.manifest.v1+tar+gzip
      referenceName: github.com/acme/helloworld/echoserver:0.1.0
      type: localBlob
    name: mychart
    relation: local
    type: helmChart
    version: 1.0.0
  - access:
      imageReference: gcr.io/google_containers/echoserver:1.10
      type: ociArtifact
    name: image
    relation: external
    type: ociImage
    version: 1.0.0
  sources: []
  componentReferences: []
  repositoryContexts: []
</code></pre></details><h3 id=add-an-image-resource>Add an image resource <a href=#add-an-image-resource class=anchor aria-hidden=true>#</a></h3><p>Alternatively you can add an image as a resource built locally using Docker before. It will be picked up from the local Docker file system and added to the component archive.</p><pre><code class=language-shell>docker image ls

REPOSITORY                                              TAG                 IMAGE ID       CREATED         SIZE
echoserverimage                                         1.10.0              365ec60129c5   4 years ago     95.4MB
...
</code></pre><pre><code class=language-shell>ocm add resource ${CA_ARCHIVE} --name image --version ${VERSION} --type ociArtifact  --inputType docker --inputPath=echoserverimage:1.10.0
</code></pre><pre><code class=language-shell>processing resource (by options)...
  processing document 1...
    processing index 1
found 1 resources
adding resource ociArtifact: &quot;name&quot;=&quot;image&quot;,&quot;version&quot;=&quot;1.0.0&quot;...
  image echoserverimage:1.10.0
locator: echoserverimage, repo: , version 1.10.0
~/temp/ocm/hello&gt;
</code></pre><details><summary>What happened?</summary>
The Docker image is downloaded from the Docker daemon, converted to an OCI artifact,
and added as local artifact to the component version.
The component descriptor now has the content:<pre><code class=language-yaml>component:
  componentReferences: []
  name: github.com/acme/helloworld
  provider: acme.org
  repositoryContexts: []
  resources:
  - access:
      localReference: sha256.31b7c98008a6b2d6f0b07e11b997c47c70d31edeea0986382940ccc42288741e
      mediaType: application/vnd.oci.image.manifest.v1+tar+gzip
      referenceName: github.com/acme/helloworld/echoserverimage:1.10.0
      type: localBlob
    name: image
    relation: local
    type: ociArtifact
    version: 1.0.0
  - access:
      localReference: sha256.cf0b6e95c1f05e6825d37e15744f46c6fdb37eea7be2234b8948be71b28ff6b1
      mediaType: application/vnd.oci.image.manifest.v1+tar+gzip
      referenceName: github.com/acme/helloworld/echoserver:0.1.0
      type: localBlob
    name: mychart
    relation: local
    type: helmChart
    version: 1.0.0
  sources: []
  version: 1.0.0
meta:
  schemaVersion: v2
</code></pre><p>The generated blob sha256.65cf&mldr; is an archive describing the image according to the
<a href=https://github.com/opencontainers/image-spec/blob/v1.0.1/image-layout.md>OCI Image Layout Specification</a>.</p></details><h3 id=using-a-resources-file>Using a resources file <a href=#using-a-resources-file class=anchor aria-hidden=true>#</a></h3><p>You could simplify the previous two steps (adding helm chart and image as resources) by using a text file as input. For that, you could create a file <code>resources.yaml</code>, which looks like this:</p><pre><code class=language-yaml>---
name: mychart
type: helmChart
input:
  type: helm
  path: ./helmchart
---
name: image
type: ociImage
version: &quot;1.0.0&quot;
access:
  type: ociArtifact
  imageReference: gcr.io/google_containers/echoserver:1.10
</code></pre><p>A resource is described either by its accesss information to a remote repository or by locally
provided resources. For remote access the field <code>access</code> is used to describe the
<a href=https://github.com/open-component-model/ocm-spec/blob/main/doc/appendix/B/README.md>access method</a>. The type field is used to specify the kind of access.
If the resource content should be taken from local resources with the field <code>input</code> is used to specify
the access to local resources. In this case the resource content is directly put into the component
archive. Like for the <code>access</code> attribute the kind of the input source is described by the field <code>type</code>.
The input types are not part of the input specification but are provided locally by the OCM command
line client. For available input types see <a href=https://github.com/open-component-model/ocm/blob/main/docs/reference/ocm_add_resources.md><code>ocm add resources</code></a>.</p><p>For more complex scenarios the description files might use variable substitution (templating), see <a href=../best-practices-with-ocm#templating-the-resources>Best practices</a></p><p>Add the resources using the following command:</p><pre><code class=language-shell>ocm add resources $CA_ARCHIVE resources.yaml
</code></pre><pre><code class=language-shell>processing resources.yaml...
  processing document 1...
    processing index 1
  processing document 2...
    processing index 1
found 2 resources
adding resource helmChart: &quot;name&quot;=&quot;mychart&quot;,&quot;version&quot;=&quot;&lt;componentversion&gt;&quot;...
adding resource ociImage: &quot;name&quot;=&quot;image&quot;,&quot;version&quot;=&quot;1.0.0&quot;...
</code></pre><p>For a local image built with Docker use this file:</p><pre><code class=language-shell>---
name: mychart
type: helmChart
input:
  type: helm
  path: ./helmchart
---
name: image
type: ociImage
version: &quot;1.0.0&quot;
input:
  type: docker
  repository: echoserverimage
  path: echoserverimage:1.10.0
</code></pre><h3 id=uploading-component-versions>Uploading component versions <a href=#uploading-component-versions class=anchor aria-hidden=true>#</a></h3><p>To upload the component version to an OCI registry, you can transfer the component archive using the command <a href=https://github.com/open-component-model/ocm/blob/main/docs/reference/ocm_transfer_componentarchive.md><code>ocm transfer componentarchive</code></a>:</p><pre><code class=language-shell>OCMREPO=ghcr.io/acme
ocm transfer componentarchive ./ca-hello-world ${OCMREPO}
</code></pre><pre><code class=language-shell>transferring version &quot;github.com/acme/helloworld:1.0.0&quot;...
...resource 0(github.com/acme/helloworld/echoserver:0.1.0)...
...adding component version...
</code></pre><h3 id=bundle-composed-components>Bundle composed components <a href=#bundle-composed-components class=anchor aria-hidden=true>#</a></h3><p>If you have created multiple components according to the instructions above, you can bundle
them into a single archive entity. This can be done by creating a transport archive.</p><p>The transport archive is the entity that does the transfer between
component repositories. It is used to transfer entire deployments between
locations.</p><p>A transport archive may contain any number of component versions. It may also be pushed to an OCM repository.</p><p>Note that a transport achive is also an OCM repository, so it can also be used as source or as a target
for transport operations.</p><pre><code class=language-shell>CTF_ARCHIVE=ctf-hello-world
ocm transfer componentversion ${CA_ARCHIVE} ${CTF_ARCHIVE}
</code></pre><pre><code class=language-shell>transferring version &quot;github.com/acme/helloworld:1.0.0&quot;...
...resource 0(github.com/acme/helloworld/echoserver:0.1.0)...
...adding component version...
1 versions transferred
</code></pre><details><summary>What happened?</summary><p>The resulting transport archive has the following file structure:</p><pre><code class=language-shell>tree ${CTF_ARCHIVE}
</code></pre><pre><code class=language-shell>ctf-hello-world
 artifact-index.json
 blobs
     sha256.378a171e7a1bcecc19b7fd4a330161a9d91550486dad668c78d08e590ef245e7
     sha256.4f2080d8d41d2b52182f325f4f42d91e2581e3f2299f4f8631196801773ba869
     sha256.63dc40246a604ef503f0361e14216ab7e002912697d09da49f50bba7091549f7
     sha256.b9bf66cb07b129d12956392dff6110874c37a1b06ed8dde88881f6de971ff293
</code></pre><p>The transport archive&rsquo;s contents can be found in <code>artifact-index.json</code>. This file
contains the list of component version artifacts to be transported.</p><pre><code class=language-shell>jq . ${CTF_ARCHIVE}/artifact-index.json
</code></pre><pre><code class=language-shell>{
  &quot;schemaVersion&quot;: 1,
  &quot;artifacts&quot;: [
    {
      &quot;repository&quot;: &quot;component-descriptors/github.com/acme/helloworld&quot;,
      &quot;tag&quot;: &quot;1.0.0&quot;,
      &quot;digest&quot;: &quot;sha256:63dc40246a604ef503f0361e14216ab7e002912697d09da49f50bba7091549f7&quot;
    }
  ]
}
</code></pre><p>The content of the transport archive is stored as OCI artifacts. Notice that the repository names of Component Version artifacts (found at <code>artifacts.respository</code>) are prefixed by <code>component-descriptors/</code>.</p><p>The component version is described as an OCI manifest:</p><pre><code class=language-shell>jq . ${CTF_ARCHIVE}/blobs/sha256.63dc40246a604ef503f0361e14216ab7e002912697d09da49f50bba7091549f7
</code></pre><pre><code class=language-shell>{
  &quot;schemaVersion&quot;: 2,
  &quot;mediaType&quot;: &quot;application/vnd.oci.image.manifest.v1+json&quot;,
  &quot;config&quot;: {
    &quot;mediaType&quot;: &quot;application/vnd.ocm.software.component.config.v1+json&quot;,
    &quot;digest&quot;: &quot;sha256:b9bf66cb07b129d12956392dff6110874c37a1b06ed8dde88881f6de971ff293&quot;,
    &quot;size&quot;: 201
  },
  &quot;layers&quot;: [
    {
      &quot;mediaType&quot;: &quot;application/vnd.ocm.software.component-descriptor.v2+yaml+tar&quot;,
      &quot;digest&quot;: &quot;sha256:4f2080d8d41d2b52182f325f4f42d91e2581e3f2299f4f8631196801773ba869&quot;,
      &quot;size&quot;: 2560
    },
    {
      &quot;mediaType&quot;: &quot;application/vnd.oci.image.manifest.v1+tar+gzip&quot;,
      &quot;digest&quot;: &quot;sha256:378a171e7a1bcecc19b7fd4a330161a9d91550486dad668c78d08e590ef245e7&quot;,
      &quot;size&quot;: 4747
    }
  ]
}
</code></pre><p>Notice that the output of the component version above contains the component descriptor as one of the <code>layers</code>. It can be identified by its content type, which is <code>application/vnd.ocm.software.component-descriptor.v2+yaml+tar</code>. In ths case, the component descriptor can be displayed with the following command:</p><pre><code class=language-shell>tar xvf ctf-hello-world/blobs/sha256.4f2080d8d41d2b52182f325f4f42d91e2581e3f2299f4f8631196801773ba869 -O - component-descriptor.yaml
</code></pre><pre><code class=language-shell>component:
  componentReferences: []
  name: github.com/acme/helloworld
  provider: acme.org
  repositoryContexts: []
  resources:
  - access:
      localReference: sha256:378a171e7a1bcecc19b7fd4a330161a9d91550486dad668c78d08e590ef245e7
      mediaType: application/vnd.oci.image.manifest.v1+tar+gzip
      referenceName: github.com/acme/helloworld/echoserver:0.1.0
      type: localBlob
    name: mychart
    relation: local
    type: helmChart
    version: 1.0.0
  - access:
      imageReference: gcr.io/google_containers/echoserver:1.10
      type: ociArtifact
    name: image
    relation: external
    type: ociImage
    version: 1.0.0
  sources: []
  version: 1.0.0
meta:
  schemaVersion: v2
</code></pre><p>The other elements listed as <code>layers</code> describe the blobs for the local resources stored along with the component version. The digests can be seen in the <code>localReference</code> attributes of the component descriptor.</p></details><h3 id=all-in-one>All in One <a href=#all-in-one class=anchor aria-hidden=true>#</a></h3><p>The previous steps can be combined into a single operation working on a single description file:</p><ul><li>Creating a Common Transport Archive</li><li>Adding one or more components</li><li>With resources, sources and references</li></ul><p>The command <a href=https://github.com/open-component-model/ocm/blob/main/docs/reference/ocm_add_componentversions.md>ocm add componentversions</a>
directly creates or extends a common transport archive without the need for creating dedicated component archives</p><p>Create a yaml configuration file <code>components.yaml</code>, which contains information about the components
to create and the elements addded to those components</p><pre><code class=language-yaml>components:
- name: github.com/acme.org/helloworld
  version: &quot;1.0.0&quot;
  provider:
    name: acme.org
  resources:
    - name: mychart
      type: helmChart
      input:
        type: helm
        path: ./helmchart
    - name: image
      type: ociImage
      version: &quot;1.0.0&quot;
      access:
        type: ociArtifact
        imageReference: gcr.io/google_containers/echoserver:1.10
</code></pre><pre><code class=language-shell>ocm add componentversions --create --file ${CTF_ARCHIVE} components.yaml
</code></pre><pre><code class=language-shell>processing components.yaml...
  processing document 1...
    processing index 1
found 1 component
adding component github.com/acme.org/helloworld:1.0.0...
  adding resource helmChart: &quot;name&quot;=&quot;mychart&quot;,&quot;version&quot;=&quot;&lt;componentversion&gt;&quot;...
  adding resource ociImage: &quot;name&quot;=&quot;image&quot;,&quot;version&quot;=&quot;1.0.0&quot;...
</code></pre><details><summary>What happened?</summary>
The command creates the common-transport-archive (option `--create`), and adds the listed components
with the described resources.<pre><code class=language-shell>tree ${CTF_ARCHIVE}
</code></pre><pre><code class=language-shell>ctf-hello-world
 artifact-index.json
 blobs
     sha256.35ab56695654b260c633453d59064ad2aa075fadf1811b6712f982ea4f3cf814
     sha256.3732cc9004408e98ec28b66c1844dff166294a5bb03f953220d1542fba10de92
     sha256.d275a99002962136691f3982b7e176a2812a22193809aa2c879e29cac6851919
     sha256.ee6d6431f54c511015a59203213c998ba0654730a3f3279b56d1b29e9b51b068
</code></pre></details><h2 id=display-and-examine-component-versions>Display and Examine component versions <a href=#display-and-examine-component-versions class=anchor aria-hidden=true>#</a></h2><h3 id=list-component-versions>List component versions <a href=#list-component-versions class=anchor aria-hidden=true>#</a></h3><p>To show the component stored in a component archive (without looking at the file system structure), the <a href=https://github.com/open-component-model/ocm/blob/main/docs/reference/ocm_get_componentversions.md><code>ocm get componentversion</code></a> command can be used:</p><pre><code class=language-shell>ocm get componentversion ${CA_ARCHIVE}
</code></pre><pre><code class=language-shell>COMPONENT                  VERSION PROVIDER
github.com/acme/helloworld 1.0.0   acme.org
</code></pre><p>To see the component descriptor of the displayed component version, use the output format option <code>-o yaml</code>:</p><pre><code class=language-shell>ocm get componentversion ${CA_ARCHIVE} -o yaml
</code></pre><pre><code class=language-shell>---
context: []
element:
  component:
    componentReferences: []
    name: github.com/acme/helloworld
    provider:
      name: acme.org
    repositoryContexts: []
    resources: []
    sources: []
    version: 1.0.0
  meta:
    configuredSchemaVersion: v2
</code></pre><p>Display the component versions of any OCM repository with this command:</p><pre><code class=language-shell>ocm get cv ghcr.io/mandelsoft/cnudie//github.com/mandelsoft/ocmhelmdemo
</code></pre><pre><code class=language-shell>COMPONENT                         VERSION   PROVIDER
github.com/mandelsoft/ocmhelmdemo 0.1.0-dev mandelsoft
</code></pre><p>To refer to the content of a component repository, the component name can be appended to the repository specification separated by <code>//</code>.</p><p>In the example above, <code>ghcr.io/mandelsoft/cnudie</code> is the OCM repository, whereas <code>github.com/mandelsoft/ocmhelmdemo</code> is the component stored in this component repository.</p><p>Optionally, a specific version can be appended, separated by a colon (<code>:</code>). If no version is specified, all component versions will be displayed.</p><p>With the option <code>--recursive</code>, it is possible to show the complete component version, including the component versions it references.</p><pre><code class=language-shell>ocm get cv ghcr.io/mandelsoft/cnudie//github.com/mandelsoft/ocmhelmdemo --recursive
</code></pre><pre><code class=language-shell>REFERENCEPATH                               COMPONENT                              VERSION   PROVIDER   IDENTITY
                                            github.com/mandelsoft/ocmhelmdemo      0.1.0-dev mandelsoft
github.com/mandelsoft/ocmhelmdemo:0.1.0-dev github.com/mandelsoft/ocmhelminstaller 0.1.0-dev mandelsoft &quot;name&quot;=&quot;installer&quot;
</code></pre><p>To get a tree view, add the option <code>-o tree</code>:</p><pre><code class=language-shell>ocm get componentversion ghcr.io/mandelsoft/cnudie//github.com/mandelsoft/ocmhelmdemo --recursive -o tree
</code></pre><pre><code class=language-shell>NESTING    COMPONENT                              VERSION   PROVIDER   IDENTITY
        github.com/mandelsoft/ocmhelmdemo      0.1.0-dev mandelsoft
         github.com/mandelsoft/ocmhelminstaller 0.1.0-dev mandelsoft &quot;name&quot;=&quot;installer&quot;
</code></pre><h3 id=list-the-resources-of-a-component-version>List the resources of a component version <a href=#list-the-resources-of-a-component-version class=anchor aria-hidden=true>#</a></h3><p>To list the resources found in a component version tree, the command <a href=https://github.com/open-component-model/ocm/blob/main/docs/reference/ocm_get_resources.md><code>ocm get resources</code></a> can be used:</p><pre><code class=language-shell>ocm get resources ghcr.io/mandelsoft/cnudie//github.com/mandelsoft/ocmhelmdemo:0.1.0-dev --recursive -o tree
</code></pre><pre><code class=language-shell>COMPONENT                                    NAME        VERSION   IDENTITY TYPE        RELATION
 github.com/mandelsoft/ocmhelmdemo                     0.1.0-dev
                                           chart       0.1.0-dev          helmChart   local
                                           image       1.0                ociImage    external
                                           package     0.1.0-dev          toiPackage  local
    github.com/mandelsoft/ocmhelminstaller installer   0.1.0-dev
                                           toiexecutor 0.1.0-dev          toiExecutor local
                                           toiimage    0.1.0-dev          ociImage    local
</code></pre><h3 id=download-the-resources-of-a-component-version>Download the resources of a component version <a href=#download-the-resources-of-a-component-version class=anchor aria-hidden=true>#</a></h3><p>Use the <a href=https://github.com/open-component-model/ocm/blob/main/docs/reference/ocm_download_resources.md><code>ocm download</code></a> command to download resources such as component versions, individual resources or artifacts:</p><pre><code class=language-shell>ocm download resource ghcr.io/jensh007//github.com/acme/helloworld:1.0.0 chart -O helmchart.tgz
</code></pre><pre><code class=language-shell>helmchart.tgz: 4747 byte(s) written
</code></pre><p>Because it is stored as OCI artifact in an OCI registry, the filesystem format used for OCI artifacts is the blob format.</p><details><summary>What happened?</summary>
The file helmchart.tgz was downloaded.<pre><code class=language-shell>tar xvf helmchart.tgz
</code></pre><pre><code class=language-shell>x index.json
x oci-layout
x blobs
x blobs/sha256.1c1af427d477202d102c141f27d3be0f5b6595e2948a82ec58987560c1915fea
x blobs/sha256.47eacca4cbed4b63c17e044d3c87a33d9bd1f88a9e76fa0ab051e48b0a3cd7ec
x blobs/sha256.ea8e5b44cd1aff1f3d9377d169ad795be20fbfcd58475a62341ed8fb74d4788c
</code></pre><pre><code class=language-shell>$ jq . index.json
{
  &quot;schemaVersion&quot;: 2,
  &quot;mediaType&quot;: &quot;application/vnd.oci.image.index.v1+json&quot;,
  &quot;manifests&quot;: [
    {
      &quot;mediaType&quot;: &quot;application/vnd.oci.image.manifest.v1+json&quot;,
      &quot;digest&quot;: &quot;sha256:47eacca4cbed4b63c17e044d3c87a33d9bd1f88a9e76fa0ab051e48b0a3cd7ec&quot;,
      &quot;size&quot;: 410,
      &quot;annotations&quot;: {
        &quot;cloud.gardener.ocm/tags&quot;: &quot;0.1.0&quot;,
        &quot;org.opencontainers.image.ref.name&quot;: &quot;0.1.0&quot;,
        &quot;software.ocm/tags&quot;: &quot;0.1.0&quot;
      }
    }
  ],
  &quot;annotations&quot;: {
    &quot;cloud.gardener.ocm/main&quot;: &quot;sha256:47eacca4cbed4b63c17e044d3c87a33d9bd1f88a9e76fa0ab051e48b0a3cd7ec&quot;,
    &quot;software.ocm/main&quot;: &quot;sha256:47eacca4cbed4b63c17e044d3c87a33d9bd1f88a9e76fa0ab051e48b0a3cd7ec&quot;
  }
}

</code></pre></details><h4 id=download-with-download-handlers>Download with download handlers <a href=#download-with-download-handlers class=anchor aria-hidden=true>#</a></h4><p>To use a format more suitable for the content technology, enable the usage
of download handlers.</p><p>If a download handler is available for the artifact type and the
blob media type used to store the blob in the OCM repository, it will convert the blob format
into a more suitable format:</p><pre><code class=language-shell>ocm download resource -d ghcr.io/jensh007//github.com/acme/helloworld:1.0.0 chart -O helmchart.tgz
</code></pre><pre><code class=language-shell>helmchart.tgz: 4747 byte(s) written
</code></pre><details><summary>What happened?</summary>
The downloaded archive is now a regular Helm Chart archive:<pre><code class=language-shell>tar tvf echoserver-0.1.0.tgz
</code></pre><pre><code class=language-shell>-rw-r--r--  0 0      0         136 Nov 30 13:19 echoserver/Chart.yaml
-rw-r--r--  0 0      0        1842 Nov 30 13:19 echoserver/values.yaml
-rw-r--r--  0 0      0        1755 Nov 30 13:19 echoserver/templates/NOTES.txt
-rw-r--r--  0 0      0        1802 Nov 30 13:19 echoserver/templates/_helpers.tpl
-rw-r--r--  0 0      0        1848 Nov 30 13:19 echoserver/templates/deployment.yaml
-rw-r--r--  0 0      0         922 Nov 30 13:19 echoserver/templates/hpa.yaml
-rw-r--r--  0 0      0        2083 Nov 30 13:19 echoserver/templates/ingress.yaml
-rw-r--r--  0 0      0         367 Nov 30 13:19 echoserver/templates/service.yaml
-rw-r--r--  0 0      0         324 Nov 30 13:19 echoserver/templates/serviceaccount.yaml
-rw-r--r--  0 0      0         385 Nov 30 13:19 echoserver/templates/tests/test-connection.yaml
-rw-r--r--  0 0      0         349 Nov 30 13:19 echoserver/.helmignore
</code></pre></details><h4 id=download-an-image>Download an image <a href=#download-an-image class=anchor aria-hidden=true>#</a></h4><p>For example, for OCI images, the OCI format is more suitable:</p><pre><code class=language-shell>ocm download resource ghcr.io/jensh007//github.com/acme/helloworld:1.0.0 image -O echoserver.tgz
</code></pre><pre><code class=language-shell>echoserver.tgz: 46148828 byte(s) written
</code></pre><details><summary>What happened?</summary>
The file `echoserver.tgz` was downloaded.<pre><code class=language-shell>tar xvf echoserver.tgz
</code></pre><pre><code class=language-shell>x index.json
x oci-layout
x blobs
x blobs/sha256.06679f57dba70a6875e4ae5843ba2483ecab6ec48182ca8720ddc5b1863bad52
x blobs/sha256.28c6282d04f63710146ace6c7be14a40c7ee6a71a2f91316928469e4aafe0d92
x blobs/sha256.2d3e25b9e93ad26878862abee5ed02683206f6f6d57e311cdd1dedf3662b61c8
x blobs/sha256.365ec60129c5426b4cf160257c06f6ad062c709e0576c8b3d9a5dcc488f5252d
x blobs/sha256.4b12f3ef8e65aaf1fd77201670deb98728a8925236d8f1f0473afa5abe9de119
x blobs/sha256.76d46396145f805d716dcd1607832e6a1257aa17c0c2646a2a4916e47059dd54
x blobs/sha256.7fd34bf149707ca78b3bb90e4ba68fe9a013465e5d03179fb8d3a3b1cac8be27
x blobs/sha256.b0e3c31807a2330c86f07d45a6d80923d947a8a66745a2fd68eb3994be879db6
x blobs/sha256.bc391bffe5907b0eaa04e96fd638784f77d39f1feb7fbe438a1dae0af2675205
x blobs/sha256.cb5c1bddd1b5665e1867a7fa1b5fa843a47ee433bbb75d4293888b71def53229
x blobs/sha256.d5157969118932d522396fe278eb722551751c7aa7473e6d3f03e821a74ee8ec
x blobs/sha256.e0962580d8254d0b1ef35006d7e2319eb4870e63dc1f9573d2406c7c47d442d2
</code></pre><pre><code class=language-shell>
jq . index.json
{
  &quot;schemaVersion&quot;: 2,
  &quot;mediaType&quot;: &quot;application/vnd.oci.image.index.v1+json&quot;,
  &quot;manifests&quot;: [
    {
      &quot;mediaType&quot;: &quot;application/vnd.docker.distribution.manifest.v2+json&quot;,
      &quot;digest&quot;: &quot;sha256:cb5c1bddd1b5665e1867a7fa1b5fa843a47ee433bbb75d4293888b71def53229&quot;,
      &quot;size&quot;: 2400,
      &quot;annotations&quot;: {
        &quot;cloud.gardener.ocm/tags&quot;: &quot;1.10&quot;,
        &quot;org.opencontainers.image.ref.name&quot;: &quot;1.10&quot;,
        &quot;software.ocm/tags&quot;: &quot;1.10&quot;
      }
    }
  ],
  &quot;annotations&quot;: {
    &quot;cloud.gardener.ocm/main&quot;: &quot;sha256:cb5c1bddd1b5665e1867a7fa1b5fa843a47ee433bbb75d4293888b71def53229&quot;,
    &quot;software.ocm/main&quot;: &quot;sha256:cb5c1bddd1b5665e1867a7fa1b5fa843a47ee433bbb75d4293888b71def53229&quot;
  }
}
</code></pre></details><h4 id=download-an-executable>Download an executable <a href=#download-an-executable class=anchor aria-hidden=true>#</a></h4><p>The Open Component Model allows to publish platform-specific executables. In this case, the platform
specification is used by convention as extra identity for the artifacts that are contained in the component
version.</p><p>Example:</p><pre><code class=language-shell>ocm get componentversion ghcr.io/open-component-model/ocm//ocm.software/ocmcli:0.1.0-dev -o yaml
</code></pre><pre><code class=language-shell>...
    resources:
    - name: ocmcli
      extraIdentity:
        architecture: amd64
        os: linux
      relation: local
      type: executable
      version: 0.1.0-dev
      access:
        localReference: sha256:1a8827761f0aaa897d1d4330c845121c157e905d1ff300ba5488f8c423bc7cd9
        mediaType: application/octet-stream
        type: localBlob
    - name: ocmcli
      extraIdentity:
        architecture: arm64
        os: darwin
      relation: local
      type: executable
      version: 0.1.0-dev
      access:
        localReference: sha256:9976b18dc16ae2b2b3fc56686f18f4896d44859f1ea6221f70e83517f697e289
        mediaType: application/octet-stream
        type: localBlob
...
</code></pre><p>Note, the resources shown above have the same name and type <code>executable</code> but a different extra-identity. If a
component version complies to this convention, executables can directly be downloaded for the specified
platform with the use of the <code>-x</code> option. If only one executable is contained in the component version, the
resource name can be omitted. Example:</p><pre><code class=language-shell>ocm download resource -x --latest ghcr.io/open-component-model/ocm//ocm.software/ocmcli
</code></pre><pre><code class=language-shell>ocm: 52613730 byte(s) written
</code></pre><details><summary>What happened?</summary><pre><code class=language-shell>ls -l
</code></pre><pre><code class=language-shell>total 51M
-rwxr-xr-x  1 me staff  51M Nov 30 13:49 ocm
</code></pre><pre><code class=language-shell>file ocm
</code></pre><pre><code class=language-shell>ocm: Mach-O 64-bit executable arm64
</code></pre><p>With the option <code>--latest</code>, the latest mathching component version is used for download. With the
option <code>--constraints</code> version constraints can be configured. For example: <code>--constraints 0.1.x</code>
will select all patch versions of <code>0.1</code>. Together with <code>--latest</code> the latest patch version is
selected.</p><p>The option <code>-x</code> enables the executable download handler, which provides the x-bit of the downloaded
files. Additionally it filters all matching resources for executables and the correct platform.</p></details><h4 id=download-a-full-component-version>Download a full component version <a href=#download-a-full-component-version class=anchor aria-hidden=true>#</a></h4><p>Download entire component versions using the <a href=https://github.com/open-component-model/ocm/blob/main/docs/reference/ocm_download_componentversions.md><code>ocm download componentversion</code></a> command:</p><pre><code class=language-shell>ocm download componentversions ${OCM_REPO}//${COMPONENT}:${VERSION} -O helloworld
</code></pre><pre><code class=language-shell>helloworld: downloaded
</code></pre><p>The result is a component archive. This can then be modified using the <code>ocm add ...</code> commands shown earlier.</p><details><summary>What happened?</summary>
The component version was downloaded.<pre><code class=language-shell>tree helloworld2
</code></pre><pre><code class=language-shell> blobs
 component-descriptor.yaml
</code></pre><p>The <code>blobs</code> directory is empty because, during the upload to the OCI registry, the local helmchart blob was transformed to a regular OCI artifact. The access method in the component descriptor has been modified to ociArtifact.</p></details><h3 id=download-oci-artifacts>Download OCI Artifacts <a href=#download-oci-artifacts class=anchor aria-hidden=true>#</a></h3><p>Download OCI artifacts from an OCI registry, such as OCI images, with the <a href=https://github.com/open-component-model/ocm/blob/main/docs/reference/ocm_download_artifacts.md><code>ocm download artifacts</code></a> command:</p><pre><code class=language-shell>ocm download artifact ${OCM_REPO}/${COMPONENT}:${VERSION} -O echoserver
</code></pre><pre><code class=language-shell>echoserver: downloaded
</code></pre><details><summary>What happened?</summary>
The OCI image `echoserver` was downloaded.<pre><code class=language-shell>tree echoserver
</code></pre><pre><code class=language-shell>echoserver
 blobs
  sha256.1c1af427d477202d102c141f27d3be0f5b6595e2948a82ec58987560c1915fea
  sha256.47eacca4cbed4b63c17e044d3c87a33d9bd1f88a9e76fa0ab051e48b0a3cd7ec
  sha256.ea8e5b44cd1aff1f3d9377d169ad795be20fbfcd58475a62341ed8fb74d4788c
 index.json
 oci-layout
</code></pre></details><h2 id=transport-ocm-component-versions>Transport OCM component versions <a href=#transport-ocm-component-versions class=anchor aria-hidden=true>#</a></h2><p>The section <a href=#bundle-composed-components>Bundle composed components</a> explained how to bundle multiple component version into a transport
archive.</p><p>During the transfer, it is possible to include component references as local blobs. It is also possible to include references in a recursive way.</p><p>Here is an example of a recursive transfer from one OCI registry to another, which includes resources and references:</p><pre><code class=language-shell>ocm transfer componentversion --recursive --copy-resources ${OCM_REPO}//${COMPONENT}:${VERSION} eu.gcr.io/acme/
</code></pre><pre><code class=language-shell>transferring version &quot;github.com/acme/helloworld:1.0.0&quot;...
...resource 0(github.com/acme/helloworld/echoserver:0.1.0)...
...adding component version...
1 versions transferred
</code></pre><p>The OCM CLI&rsquo;s <code>transfer</code> command can be used to transfer component versions, component archives, transport archives and artifacts. See <code>ocm transfer -h</code> for more information.</p><p>More examples on the transport archive can be found in <a href=https://github.com/open-component-model/ocm-spec/blob/main/doc/appendix/A/CTF/README.md>appendix A</a>.</p><h2 id=sign-component-versions>Sign component versions <a href=#sign-component-versions class=anchor aria-hidden=true>#</a></h2><p>Sign component versions to ensure integrity along a transport chain.</p><p>Signing requires a key pair, a signature, and optionally an issuer as well as an algorithm and a
name for the signature.</p><p>A component version can have multiple signatures with different names. A normalization of the
component version is used for signing. See <a href=https://github.com/open-component-model/ocm-spec/blob/main/doc/appendix/C/README.md>appendix C</a> for more details.
Currently only signing according
<a href=https://datatracker.ietf.org/doc/html/rfc3447>RSA PKCS #1 v1.5 signature algorithm</a> supported.</p><p>Create a key pair using the OCM CLI:</p><pre><code class=language-shell>ocm create rsakeypair acme.priv
</code></pre><p>This will create two files. One named <code>acme.priv</code> for the private key and for convenience one named
<code>acme.pub</code> for the public key.</p><p>Use the <code>sign componentversion</code> command to sign a component version:</p><pre><code class=language-shell>ocm sign componentversion --signature acme-sig --private-key=acme.priv ${OCM_REPO}//${COMPONENT}:${VERSION}
</code></pre><p>You can also sign a common transport archive before uploading to a component
repository:</p><pre><code class=language-shell>ocm sign componentversion --signature acme-sig --private-key=acme.priv ctf-hello-world
</code></pre><pre><code class=language-shell>applying to version &quot;github.com/acme/helloworld:1.0.0&quot;...
successfully signed github.com/acme/helloworld:1.0.0 (digest sha256:46615253117b7217903302d172a45de7a92f2966f6a41efdcc948023ada318bc)
</code></pre><details><summary>What happened?</summary><p>Digests will be created for all described artifacts and referenced component versions. Then for the
top-level component versions the component-version digests are signed. Signature and digests are
stored in the component descriptor(s):</p><pre><code class=language-shell>jq . ${CTF_ARCHIVE}/artifact-index.json
</code></pre><pre><code class=language-shell>{
  &quot;schemaVersion&quot;: 1,
  &quot;artifacts&quot;: [
    {
      &quot;repository&quot;: &quot;component-descriptors/github.com/acme/helloworld&quot;,
      &quot;tag&quot;: &quot;1.0.0&quot;,
      &quot;digest&quot;: &quot;sha256:8c6b8c5a63a09d96d2a60b50adbd47f06b31be6e9d3e8618177c60fb47ec4bb2&quot;
    }
  ]
}

Beside the digests of the component descriptor layer nothing has changed:

jq . ${CTF_ARCHIVE}/blobs/sha256.8c6b8c5a63a09d96d2a60b50adbd47f06b31be6e9d3e8618177c60fb47ec4bb2
</code></pre><pre><code class=language-shell>{
  &quot;schemaVersion&quot;: 2,
  &quot;mediaType&quot;: &quot;application/vnd.oci.image.manifest.v1+json&quot;,
  &quot;config&quot;: {
    &quot;mediaType&quot;: &quot;application/vnd.ocm.software.component.config.v1+json&quot;,
    &quot;digest&quot;: &quot;sha256:23225a4bfd2bacd575ec5317a25a0dd63702594f5859fbc3a4c4301453ac311a&quot;,
    &quot;size&quot;: 201
  },
  &quot;layers&quot;: [
    {
      &quot;mediaType&quot;: &quot;application/vnd.ocm.software.component-descriptor.v2+yaml+tar&quot;,
      &quot;digest&quot;: &quot;sha256:1f8c7801b2b35768b0eb9c919683ffcd0af24d8135beaccb7146af56cb2981d9&quot;,
      &quot;size&quot;: 3584
    },
    {
      &quot;mediaType&quot;: &quot;application/vnd.oci.image.manifest.v1+tar+gzip&quot;,
      &quot;digest&quot;: &quot;sha256:2a958a5e8e9cca1b4e5b3cce510db9058f0117d09ce8c0981523230aa5d0e3d0&quot;,
      &quot;size&quot;: 4714
    }
  ]
}
</code></pre><pre><code class=language-shell>tar xvf ${CTF_ARCHIVE}/blobs/sha256.1f8c7801b2b35768b0eb9c919683ffcd0af24d8135beaccb7146af56cb2981d9 -O - component-descriptor.yaml
</code></pre><pre><code class=language-shell>meta:
  schemaVersion: v2
component:
  name: github.com/acme/helloworld
  version: 1.0.0
  provider: acme.org
  resources:
  - access:
      localReference: sha256:2a958a5e8e9cca1b4e5b3cce510db9058f0117d09ce8c0981523230aa5d0e3d0
      mediaType: application/vnd.oci.image.manifest.v1+tar+gzip
      referenceName: github.com/acme/helloworld/echoserver:0.1.0
      type: localBlob
    digest:
      hashAlgorithm: sha256
      normalisationAlgorithm: ociArtifactDigest/v1
      value: 7b1614e9de1daee6334c91fce087e4365ee30f8f4da783ae81c27c6a81718b1d
    name: chart
    relation: local
    type: helmChart
    version: 1.0.0
  - access:
      imageReference: gcr.io/google_containers/echoserver:1.10
      type: ociArtifact
    digest:
      hashAlgorithm: sha256
      normalisationAlgorithm: ociArtifactDigest/v1
      value: cb5c1bddd1b5665e1867a7fa1b5fa843a47ee433bbb75d4293888b71def53229
    name: image
    relation: external
    type: ociImage
    version: 1.0.0
  componentReferences: []
  repositoryContexts: []
  sources: []
signatures:
- digest:
    hashAlgorithm: sha256
    normalisationAlgorithm: jsonNormalisation/v1
    value: 023accb95490e1cf00926ddec95aadac599528bd987f6c1f0b5440c1bc51add3
  name: acme-sig
  signature:
    algorithm: RSASSA-PKCS1-V1_5
    mediaType: application/vnd.ocm.signature.rsa
    value: 6538f0f1ddb436008c4f82a84cfa92893e44cca1f2363f9da786ab632bca92f6498d912f2e4dfcdd9fa24078be83ba4f56851fa7b1235526c11cf5c9bd923676acaecb0e19f3996ac96a7334a4b4dcbf0b33479e90dd9500ea4fd5e914e17edb41c49ead6b92b313d1b79c612309b743399a2284f19a3e98c383122aa0045766394de700b8db96f4e69c6df2238c149660e5e4f8beaec45737a7ec2ddf36aa0c2042fce298c5ef2f823612229f013c147a19afe23fe81afe31200a3c2ad77485f8e9f8f01d5faba64c484b673e42a49082e1d20fb5c75616896007432e7f1b60da1591c756f4c6fab98f4125d13d7790adb41dd46717c67e92f2de6fb7c8a6c3
</code></pre></details><h3 id=signing-with-certificates>Signing with certificates <a href=#signing-with-certificates class=anchor aria-hidden=true>#</a></h3><p>The public key from the last example cannot be validated. This can be changed by using a certificate
instead of a pure public key. The certificate is signed by a CA. This ensures the authenticity of the
described public key. Additionally the common name of the certificate is validated against the issuer
attribute of the signature stored in the component descriptor.</p><p>To create a certificate use the command:</p><pre><code class=language-shell>ocm create rsakeypair --cacert ca.cert --cakey ca.priv CN=acme.org acme.priv
</code></pre><p>You can use additional attributes of the certificate like <code>O</code>, <code>OU</code> or <code>C</code>. See usage for details.
The certificate can be requested by any offical certificate authority instead. It requires the usage types x509.KeyUsageDigitalSignature and x509.ExtKeyUsageCodeSigning.</p><p>For signing the component version you need to provide the issuer then:</p><pre><code class=language-shell>ocm sign componentversion --signature acme-sig --private-key=acme.priv --issuer acme.org ${OCM_REPO}//${COMPONENT}:${VERSION}
</code></pre><p>Now the issuer will be stored along the signature and will be checked when verifying with the certificate
instead of the public key.</p><h3 id=signature-verification>Signature Verification <a href=#signature-verification class=anchor aria-hidden=true>#</a></h3><p>You can verify a signed component version. Therefore a public or a certificate provided by the
signer is required. If a certificate is provided it is validated according its certificate chain.
If not an official CA is used you need the certificate of the used root CA.</p><p>To verify the signature of a component version use</p><pre><code class=language-shell>ocm verify componentversions --signature acme-sig --public-key=acme.pub ctf-hello-world
</code></pre><pre><code class=language-shell>applying to version &quot;github.com/acme/helloworld:1.0.0&quot;...
successfully verified github.com/acme/helloworld:1.0.0 (digest sha256:46615253117b7217903302d172a45de7a92f2966f6a41efdcc948023ada318bc)
</code></pre><div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between"></div><div class="docs-navigation d-flex justify-content-between"><a href=/docs/controller-reference/api-reference/replication-controller/><div class="card my-1"><div class="card-body py-2">&larr; Replication Controller API v1</div></div></a><a class=ms-auto href=/docs/component-descriptors/version-3/><div class="card my-1"><div class="card-body py-2">Version 3 &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container-fluid><div class="row justify-content-center"><div class=col-lg-12><p class=text-center><small> Copyright 2023, SAP SE and Open Component Model Contributors | <a href=/privacy-policy/>Privacy Policy</a> | <a href=https://www.sap.com/corporate/en/legal/terms-of-use.html>Terms of Use</a> | <a href=/legal>Legal</a></small></p></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline></ul></div></div></div></footer><script src=/js/bootstrap.min.54bf0932b8a36d0e152b1635b099a6ef1394d35327e2437550a075c9c8ed1bd8aed5847c21b36fc02ed24014c031d9ca24017b0c78b1639d7e2fa8329898b842.js integrity="sha512-VL8JMrijbQ4VKxY1sJmm7xOU01Mn4kN1UKB1ycjtG9iu1YR8IbNvwC7SQBTAMdnKJAF7DHixY51+L6gymJi4Qg==" crossorigin=anonymous defer></script>
<script src=/js/highlight.min.56a414730f1135fe77b5ea30bf74a2cc4101a6f386e85e5b789c800570cc33d33054000f45932c053a59b41018f72687867254a80e1b9710671852492533162f.js integrity="sha512-VqQUcw8RNf53teowv3SizEEBpvOG6F5beJyABXDMM9MwVAAPRZMsBTpZtBAY9yaHhnJUqA4blxBnGFJJJTMWLw==" crossorigin=anonymous defer></script>
<script src=/main.min.867372088b3d9d28e68d38f8a8365d28934d875dc849d445fe06cc02a75d29286fa27e6ab5f9820c0d5bdcf90711a1ee7a4d89a7e0bee27ebb521ecd1c1f0175.js integrity="sha512-hnNyCIs9nSjmjTj4qDZdKJNNh13ISdRF/gbMAqddKShvon5qtfmCDA1b3PkHEaHuek2Jp+C+4n67Uh7NHB8BdQ==" crossorigin=anonymous defer></script></body></html>